{% extends "thunderchild/base.html" %}

{% block title %}Categories{% endblock %}
{% block title_bar_title %}Categories{% endblock %}

{% block action_bar %}
<a class="btn btn-primary pull-right" href="{% url thunderchild.category_views.create_categorygroup %}">Create category group</a>
{% endblock %}

{% block content %}
		{% if category_list %}
			{% for obj in category_list %}
			<div class="row-fluid">
				<h3>{{ obj.categorygroup.categorygroup_name }}</h3>
				{% if obj.categories %}
				<table border="1" style="table-layout:fixed;">
					<thead>
						<tr>
							<th>Name</th>
							<th>Short name</th>
						</tr>
					</thead>
					{% if obj.categories %}
					<tbody>
						{% for category in obj.categories %}
						<tr>
							<td><a href="{% url thunderchild.category_views.edit_category obj.categorygroup.id category.id %}">{{ category.category_name }}</a></td>
							<td>{{ category.category_short_name }}</td>
						</tr>
						{% endfor %}
					</tbody>
					{% endif %}
				</table>
				{% else %}
				<p>Group is empty. Click 'Create category' below to add a category to this group.</p>
				{% endif %}
			</div>
			<div class="row-fluid">
				<div class="pull-right">
					<a class="btn btn-small" href="{% url thunderchild.category_views.edit_categorygroup obj.categorygroup.id %}">Edit group</a>
					<a class="btn btn-small" href="{% url thunderchild.category_views.create_category obj.categorygroup.id %}">Create category</a>
				</div>
			</div>
			<hr />
			{% endfor %}
		{% else %}
			<p>There are currently no category groups defined. Click 'Create category group' below to create one.</p>
		{% endif %}
{% endblock %}