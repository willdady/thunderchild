{% extends "thunderchild/base.html" %}

{% block title %}Fields{% endblock %}
{% block title_bar_title %}Fields{% endblock %}

{% block action_bar %}
<a class="btn btn-primary pull-right" href="{% url thunderchild.field_views.create_fieldgroup %}">Create field group</a>
{% endblock %}

{% block content %}
	{% if field_list %}
		{% for obj in field_list %}
		<div class="row-fluid">
			<h3>{{ obj.fieldgroup.fieldgroup_name }}</h3>
			{% if obj.fields %}
			<table border="1">
				<thead>
					<tr>
						<th>Name</th>
						<th>Short name</th>
						<th>Type</th>
						<th>Display order</th>
						<th>Required</th>
					</tr>
				</thead>
				<tbody>
					{% for field in obj.fields %}
					<tr>
						<td><a href="{% url thunderchild.field_views.edit_field obj.fieldgroup.id field.id %}"}>{{ field.field_name }}</a></td>
						<td>{{ field.field_short_name }}</td>
						<td>{{ field.field_type }}</td>
						<td>{{ field.field_display_order }}</td>
						<td>{{ field.field_is_required }}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
			{% else %}
				<p>Group is empty. Click 'Create field' below to create a field.</p>
			{% endif %}
		</div>
		<div class="row-fluid">
			<div class="pull-right">
				<a class="btn btn-small" href="{% url thunderchild.field_views.edit_fieldgroup obj.fieldgroup.id %}">Edit group</a>
				<a class="btn btn-small" href="{% url thunderchild.field_views.create_field obj.fieldgroup.id %}">Create field</a>
			</div>
		</div>
		<hr />
		{% endfor %}
	{% else %}
		<p>There are currently no field groups defined. Click 'Create field group' below to create a field.</p>
	{% endif %}
{% endblock %}